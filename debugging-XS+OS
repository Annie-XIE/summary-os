# Debugging why VMs cannot get IP from DHCP agent with XenServer + Neutron

Deployment environment:
  XenServer 6.5
  OpenStack latest master code
  Neutron ML2 plugin, OVS driver, VLAN type

XenServer+Neutron do work years before, but the support for neutron break
when more and more changes made in neutron.
I began getting XenServer+Neutron back to work with previous blog
[openstack-networking-quantum-on-xenserver]
(http://blogs.citrix.com/2013/06/14/openstack-networking-quantum-on-xenserver-from-notworking-to-networking/)

There are some changes with DevStack script to let XenServer+Neutron be
installed and ran properly.

Below are some debugging process I made when new launched VMs cannot get IP
from DHCP agent.

Brief description on the steps of VM getting IP from DHCP:
When VMs are booting, they will try to send DHCP request broadcast message
within and the same domain and waiting for reply. If VMs cannot get IP address,
the straightforward we react is using tcpdump to check whether request messages
arrived at DHCP agent in domU, see [this picture]
